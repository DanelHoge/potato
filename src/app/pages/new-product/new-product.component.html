<app-header />

<div class="p-4">
  <h1 class="mb-4">New Product</h1>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="row g-3">

    <!-- Product Name -->
    <div class="col-md-6">
      <label for="productName" class="form-label">Product Name *</label>
      <input
        id="productName"
        pInputText
        formControlName="productName"
        class="form-control"
        maxlength="50"
      />
      <div class="text-danger" *ngIf="submitted && form.get('productName')?.invalid">
        Product name is required (max 50 characters).
      </div>
    </div>

    <!-- Product ID -->
    <div class="col-md-6">
      <label for="productId" class="form-label">Product ID *</label>
      <p-inputNumber
        inputId="productId"
        formControlName="productId"
        [maxFractionDigits]="0"
        [useGrouping]="false"
        [max]="9999999999999"
        class="w-100"
      />
      <div class="text-danger" *ngIf="submitted && form.get('productId')?.invalid">
        Valid Product ID is required (max 13 digits).
      </div>
    </div>

    <!-- Product Manager -->
    <div class="col-md-6">
      <label for="productManager" class="form-label">Product Manager</label>
      <input
        id="productManager"
        pInputText
        formControlName="productManager"
        class="form-control"
        maxlength="30"
      />
    </div>

    <!-- Sales Start Date -->
    <div class="col-md-6">
      <label for="salesStartDate" class="w-100 form-label">Sales Start Date *</label>
      <p-datepicker
        id="salesStartDate"
        formControlName="salesStartDate"
        showIcon="true"
        dateFormat="yy-mm-dd"
      ></p-datepicker>
      <div class="text-danger" *ngIf="submitted && form.get('salesStartDate')?.invalid">
        Sales start date is required.
      </div>
    </div>

    <div class="col-12 d-flex gap-2">
      <p-button label="Submit" type="submit" icon="pi pi-check" styleClass="p-button-success" />
      <p-button label="Clear" type="button" icon="pi pi-times" styleClass="p-button-secondary" (click)="onClear()" />
    </div>
  </form>

  <p-message *ngIf="submitted && form.valid" severity="success" text="Product succesfully created" class="mt-3"></p-message>
</div>
